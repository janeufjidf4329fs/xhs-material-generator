# 小红书宣传图生成器 - 项目总结

## 1. 项目功能概述

本项旨在开发一个自动化工具，用于批量生成符合小红书风格的宣传图片。用户可以提供文本内容，脚本会自动将其填充到预设的HTML模板中，并生成高质量的PNG图片。

主要功能包括：
- **批量生成**：支持从命令行、文本文件或JSON文件批量读取内容。
- **样式统一**：所有图片均基于统一的HTML模板生成，确保风格一致。
- **高质量输出**：生成的图片尺寸为1242x1660像素，适用于小红书平台。
- **自动化测试**：包含一个测试框架，用于验证图片生成功能和视觉效果。

## 2. 技术架构说明

项目采用以Python为核心的轻量级技术栈：

- **核心语言**: `Python`
- **图片生成**: 
    - `Playwright`: 用于加载HTML模板，并通过其浏览器引擎进行高质量截图。
    - `HTML/CSS`: 用于定义图片的基本样式和布局。
- **测试框架**:
    - `pytest`: 用于编写和执行基础功能测试。
    - `Pillow`: 用于图片处理和视觉对比测试。

**核心流程**：
1. 脚本通过命令行参数接收输入数据（文本、文本文件或JSON文件）。
2. 加载`src/templates/base_template.html`模板。
3. 将输入数据动态填充到HTML模板中。
4. 使用Playwright启动无头浏览器，渲染HTML内容。
5. 对渲染后的页面进行截图，并保存为PNG图片。

## 3. 样式规范总结

为了确保图片的视觉吸引力和品牌一致性，项目定义了详细的样式规范，具体内容见`docs/style_guide.md`。核心要素包括：

- **颜色**: 采用`#FFC3A0`到`#FFAFBD`的柔和渐变背景，搭配深灰色系文字，营造温暖、高级的视觉感受。
- **字体**: 使用`Noto Sans SC`作为主要字体，确保在不同平台上的可读性和美观性。
- **布局**: 采用卡片式设计，通过圆角、阴影和宽边距营造出精致、有序的布局。

## 4. 使用方法和示例

### 4.1 环境配置

1. **安装依赖**: 
   ```bash
   pip install -r requirements.txt
   ```
2. **安装Playwright浏览器**: 
   ```bash
   playwright install
   ```

### 4.2 使用示例

**通过命令行直接输入**: 
```bash
python src/scripts/generator.py --texts "这是我的第一张图片内容" "这是第二张"
```

**从文本文件读取**: 
```bash
# a.txt 内容：
# 第一行内容
# 第二行内容
python src/scripts/generator.py --text-file a.txt
```

**从JSON文件读取**: 
```bash
# data.json 内容：
# [
#   { "title": "标题一", "content": "内容一" },
#   { "title": "标题二", "content": "内容二" }
# ]
python src/scripts/generator.py --json-file data.json
```

## 5. 后续优化建议

- **多模板支持**: 允许用户通过参数选择不同的HTML模板，以适应不同的内容风格。
- **图片内容支持**: 增加在图片中插入用户提供的图片或二维码的功能。
- **字体和颜色定制**: 允许用户通过参数自定义字体、颜色等样式，提高灵活性。
- **Web界面**: 开发一个简单的Web界面，让非技术用户也能方便地使用此工具。
- **异步处理**: 将图片生成过程改为异步处理，以提高批量生成大量图片时的效率。
